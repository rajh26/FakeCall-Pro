    function initMyID() {
        const customId = document.getElementById('my-custom-id').value;
        if (!customId) return alert("اكتب اسمك أولاً!");

        // إذا كان هناك اتصال قديم، نقوم بإغلاقه
        if (peer) { peer.destroy(); }

        peer = new Peer(customId);

        peer.on('open', (id) => {
            document.getElementById('display-area').style.display = 'block';
            document.getElementById('active-id').innerText = id;
            document.getElementById('status').innerText = "✅ اسمك (" + id + ") جاهز الآن";
            navigator.mediaDevices.getUserMedia({ audio: true });
        });

        peer.on('error', (err) => {
            console.error(err.type);
            if (err.type === 'unavailable-id') {
                alert("للأسف، هذا الاسم محجوز! جرب إضافة رقم عشوائي خلفه.");
            } else {
                alert("السيرفر مشغول قليلاً، انتظر 5 ثوانٍ وحاول مجدداً باسم مختلف.");
            }
        });
        
        // لا تنسَ إضافة كود استقبال المكالمات (peer.on('call')) هنا أيضاً
    }
